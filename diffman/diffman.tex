\documentclass{../mathnotes}

\title{Notes on Differentiable Manifolds}
\author{Nilay Kumar}
\date{Last updated: \today}


\begin{document}

\maketitle

\setcounter{section}{-1}

\section{Administrativia}

Recommended textbooks:
\begin{itemize}
    \item John Lee: \textit{Introduction to Smooth Manifolds} (2012)
    \item Spivak: \textit{Differential Geometry: A Comprehensive Introduction}
    \item L. Tu: \textit{An Introduction to Manifolds} (2008 E-book available)
\end{itemize}

Problem sets will be assigned every one/two weeks through email. Some homework problems will be taken from Lee (second edition).
There will most likely be two midterms and a final, all in-class.

Office hours are on Fridays from 11am to 12pm.

\section{Introduction}

\begin{defn}
    A function $f$ defined on $\mathbb{R}^n$ is $C^k$ for a positive integer $k$ if $\frac{\partial^k f}{\partial x_{i_1}\cdots\partial x_{i_l}}$ 
    exists and is continuous for any positive integer $l\leq k$, where $1\leq i_1\cdots i_l\leq n$. $f$ is $C^\infty$ if it is $C^k$ for any positive
    integer $k$.
\end{defn}

\begin{exmp}
    $f(x)=x^{1/3}$ for $x\in\mathbb{R}$ is $C^0$ but not $C^1$.
\end{exmp}

\begin{exmp}
    $f(x)=x^{1/3}+k$ for $x\in\mathbb{R}$ is $C^k$ but not $C^{k+1}$, for $k\geq 1$.
\end{exmp}

\begin{defn}
    A \textbf{coordinate chart} $(U,\phi)$ on a topological space $X$ is an open set $U\subset X$ together with a map $\phi:U\ra \mathbb{R}^n$
    such that $\phi$ is a homeomorphism onto $\phi(U)$, an open set in $\mathbb{R}^n$. In other words, $(U,\phi)$ gives each $p\in U$ a
    coordinate.
\end{defn}

\begin{exmp}
    Let $S^2=\left\{ (x,y,z) | x^2+y^2+z^2=1 \right\}\subset \mathbb{R}^3$. Let $U=\left\{ z>0 \right\}\cap S^2$ be the upper hemisphere.
    $x, y, z$ are not good coordinates in that they are not free - they are constrained to the surface. Note that if we define $\phi:U\ra\mathbb{R}^2$
    such that it takes $(x,y,z)\ra(x,y)$, we have a projection map and we now have free coordinates ($z$ can be computed). This is a
    \textbf{graphical coordinate chart}. We can work similarly with the lower hemisphere. But what about the equator? We can build similar charts
    for the equator by projecting onto different planes. It is clear, however, that to cover every point, we will need a total of 6 graphical charts to cover $S^2$.

    This is nice because we can now do calculus on the open sets that $\phi$ maps us to in Euclidean space.
\end{exmp}

\begin{exmp}[Stereographic projection of $S^2$]
    Use a different model for $S^2$. Consider $\left\{ (x,y,z) | x^2+y^2+(z-\frac{1}{2})^2=\frac{1}{4} \right\}\subset\mathbb{R}^3$, the sphere of radius $1/2$
    centered at $(0,0,\frac{1}{2})$. Note that the south pole's coordinates are $(0,0,0)$ and the north pole's are $(0,0,1)$. Imagine that there is a light source
    at the north pole, which projects through the sphere onto the $xy$-plane. If the line hits the point $(x,y,z)$ on the sphere, we can solve for the point at
    which it hits the $xy$-plane. The line is given by $(0,0,1)+t(x,y,z-1)$ for $t\in\mathbb{R}$. Solving this for where $z=0$ yields $t=\frac{1}{1-z}$.
    The point is then $(0,0,1)+\frac{1}{1-z}(x,y,z-1)=(\frac{x}{1-z},\frac{y}{1-z},0)$. This gives a coordinate chart $(U,\phi)$ with $U=S-\left\{ (0,0,1) \right\}$
    (as the chart is undefined there) and $\phi:U\ra \mathbb{R}^2$ that maps $(x,y,z)\ra(\frac{x}{1-z},\frac{y}{1-z})$.
    
    In order to cover the south pole as well, we can perform stereographic projection from the south pole onto $z=1$ plane. The corresponding line is now
    given by $(0,0,0)+t(x,y,z)$ which has $z=1$ for $t=\frac{1}{z}$, and the corresponding point is $(\frac{x}{z},\frac{y}{z},1)$. This gives us a $(V,\psi)$
    where $V=S-\left\{ (0,0,0) \right\}$ with $\psi:V\ra\mathbb{R}^2$ mapping $(x,y,z)\ra(\frac{x}{z},\frac{y}{z})$.
\end{exmp}

\begin{exmp}
    Let $X$ be the set of all lines on $\mathbb{R}^2$. $X$ is a topological space (check this!). Take the set $U=\left\{ \nm{lines of the form} y=mx+c \right\}$,
    which is the collection of all non-vertical lines. To cover the vertical lines, we can have $V=\left\{ \nm{lines of the form}x=\bar{m}y+\bar{c} \right\}$,
    the collection of all non-horizontal lines. We now define $\phi:U\ra\mathbb{R}^2$ that maps $y=mx+c\ra(m,c)$ and $\psi:V\ra\mathbb{R}^2$ that maps
    $x=\bar{m}y+\bar{c}\ra(\bar{m},\bar{c})$.
\end{exmp}

Notice that for this example and the stereographic projection example, there are instances where the charts overlap. For the sake of consistency, we want
the coordinate charts to be compatible with one another. For example, a function that is differentiable in one chart should be differentiable in the other
as well.

\begin{defn}
    Given a coordinate chart $(U,\phi)$ and a function $f$ defined on $U$, we can consider $f\circ \phi^{-1}$ as a function on $\phi(U)$ and differentiate
    $f\circ \phi^{-1}$. Suppose $(V,\psi)$ is another coordinate chart and that $U\cap V\neq \varnothing$. Now we can consider $f\circ\psi^{-1}$ as a function
    to do calculus with. Now the question is: is $f\circ \phi^{-1}$ differentiable the same as $f\circ\psi^{-1}$ differentiable? This should be the case!
    We are considering a function on an abstract space, and the coordinates should respect properties such as differentiablity. So let us write
    $f\circ\psi^{-1}\circ(\psi\circ\phi^{-1})$, which is differentiable if the term in the parentheses is differentiable. We can do the same, but with
    $\phi$ and $\psi$ switched. Thus, we want to make sure that both $\psi\circ\phi^{-1}$ and $\phi\circ\psi^{-1}$ are differentiable. These are called
    \textbf{transition maps} of these coordinate charts. Two coordinate charts are \textbf{smoothly compatible} if their transition maps are diffeomorphisms
    (or if, trivially, they don't intersect). These diffeomorphisms are from $\phi(U\cap V)$ to $\psi(U\cap V)$ or vice versa.
\end{defn}

Returning to the previous manifold of lines, suppose we have a line labeled by $(m,c)$ with $m\neq 0$. This can be expressed in the other chart as
$(m^{-1},-m^{-1}c)$. It turns out, that for $m\neq 0$, these transition maps are differentiable. For the stereographic projection of $S^2$, it is the same,
just a little trickier.

\begin{defn}
    An \textbf{atlas} $\mathcal{A}$ for a topological space $X$ is a collection of coordinate charts that covers $X$ such that any two charts in $\mathcal{A}$
    are smoothly compatible.
\end{defn}

\begin{exmp}
    Take the set of all lines through the origin in $\mathbb{R}^3$. Since only the direction matters, each line might be represented by a non-zero vector.
    This is the same as the quotient space $\mathbb{R}^3\setminus \left\{ (0,0,0) \right\}/\sim$ with $(x_1,x_2,x_3)\sim\lambda (x_1,x_2,x_3)$. Thus it is equipped
    with the quotient topology; i.e.$\Pi: \mathbb{R}^3\ \left\{ (0,0,0) \right\}\to \mathbb{R}\mathbb{P}^2$ is continuous. We use $\left[ x_1 x_2 x_3 \right]$ to
    denote the equivalence class of $\left( x_1, x_2, x_3 \right)$. On the open set (check this) $U_1=\left\{ x_1\neq 0 \right\}$, we can use the coordinate chart
    $\phi_1:U_1\to\mathbb{R}^2$ that takes $(x_1,x_2,x_3)\to\left( x_2/x_1, x_3/x_1 \right)$. However, we have not covered the whole set, so we repeat this process
    for $x_2\neq0$ and $x_3\neq 0$. We claim that this set of charts is an atlas. It is obvious that these charts covers the space. We must now check that the
    transition maps are smoothly compatible. For example, we must check that $\phi_2\circ\phi_1^{-1}$ is a diffeomorphism. For $\left[ x_1,x_2,x_3 \right]\in U_1\cap V_2$,
    it's clear that $\phi_2\circ\phi_1^{-1}(x_2/x_1,x_3/x_1)=(x_1/x_2,x_3/x_2)$. To show that this is a diffeomorphism, we choose coordinates $(u,v)$ on $\mathbb{R}^2$
    and write the function in terms of these coordinates: $u=x_2/x_1$ and $v=x_3/x_1$. We know that $x_1\neq 0,x_2\neq 0$ because of our domain. Thus,
    $\phi_2\circ\phi_1^{-1}=(1/u,v/u)$. Again, by our domains, $u\neq 0$, and thus this map is differentiable. The inverse is found by writing $(1/u,v/u)$ as $(p, q)$
    which yields $(u,v)=(1/p,q/p)$ which is differentiable as well. One can check that this map is also one-to-one and onto, and we are done.
\end{exmp}

In general, it turns ou that $\mathbb{RP}^n$ requires $n+1$ coordinate charts.

\begin{defn}
    Two atlases are compatible (or equivalent) if their union is another atlas.
\end{defn}

\begin{defn}
    A \textbf{differentiable (smooth) structure} on a topological space $X$ is an equivalence class of atlases (a maximal atlas).
\end{defn}

\begin{exmp}
    Take the curve $\mathcal{C}:y=x^{\frac{1}{3}}$ in $\mathbb{R}^2$. Recall that this curve has a vertical tangent at $x=0$. This curve has the subspace topology.
    We can consider the graphical coordinate charts $\phi_1:(x,y)\to x$ and take $U_1=\mathcal{C}$. We can define an atlas $\mathcal{A}_1=\left\{ \left( U_1,\phi_1 \right) \right\}$.
    We can also take $\phi_2:(x,y)\to y$ and $\mathcal{A}_1=\left\{ (U_2,\phi_2) \right\}$. Are these equivalent? Consider the height function $h$ on $\mathcal{C}$ (the $y$
    coordinate). Consider $h\circ\phi_1^{-1}(x)=x^{\frac{1}{3}}$. Consider instead $h\circ\phi_2^{-1}(y)=y$. But $h$ is only differentiable on the second chart!
    Thus these atlases are not equivalent.
\end{exmp}

\begin{exmp}
    Take the real line. $f(x)=x^{1/3}$ is not differentiable. Suppose we make a new coordinate system that assigns each point its cubic root. The points, of course go home
    all happy, but now $f$ is differentiable!
\end{exmp}

In order to define what a ``smooth manifold'' we must impose global topological conditions to rid ourselves of certain pathological examples.

\begin{defn}
    A topological space $X$ is \textbf{Hausdorff} if any two points can be separated by disjoint open sets; i.e. $\forall p,q\in X$, there exist $U,v$ open such that
    $p\in U, q\in V$ and $U\cap V=\varnothing$.
\end{defn}

\begin{defn}
    A topological space $X$ is \textbf{second countable} if it has a countable basis of open sets.
\end{defn}

Recall that a basis $\mathcal{B}$ is a subset of the collection of all open sets such that any open set can be written as a union of members of $\mathcal{B}$.

\begin{exmp}
    Note that $\mathbb{R}^n$ is second countable because we can take a basis $\mathcal{B}$ that is the collection of all open balls
    with rational centers and rational radii. Additionally, it is clear that $\mathbb{R}^n$ is Hausdorff.
\end{exmp}

Note that a subspace of a Hausdorff, second-countable topological space is itself Hausdorff and second countable. Thus any subset of $\mathbb{R}^n$ is
Hausdorff and second countable. Pathological spaces:
\begin{itemize}
    \item the disjoint union of uncountably many copies of $\mathbb{R}$ is not second countable.
    \item a real line with two origins is not Hausdorff.
\end{itemize}

\begin{defn}
    A \textbf{differentiable/smooth manifold} is a Hausdorff, second countable topological space with a smooth (differentiable) structure.
\end{defn}

\begin{exmp}
    Suppose $U\subset\mathbb{R}^n$ is open with $F:U\to\mathbb{R}^m$ that is $C^\infty$. The graph of $F$ is
    $\Gamma=\left\{ (x,y) | x\in U, y=F(x) \right\}\subset\mathbb{R}^n\times\mathbb{R}^m$
    is a differentiable manifold. $\Gamma$ is Hausdorff and second countable because $\Gamma\subset\mathbb{R}^{n+m}$. We can take $\mathcal{A}=\left\{ (\Gamma, \Pi) \right\}$
    where $\Pi:\Gamma\to U$ maps $(x,F(x))\to x$ (check that this is a homeomorphism).
\end{exmp}

\begin{exmp}
    Take $S^2=\left\{ (x,y,z) | x^2+y^2+z^2=1 \right\}\subset\mathbb{R}^3$. This is Hausdorff and second countable. We can take the 6 graphical coordinate charts
    $\left\{ x>0 \right\},\left\{ x<0 \right\},\left\{ y>0 \right\},\left\{ y<0 \right\},\left\{ z>0 \right\},\left\{ z<0 \right\}$, with the appropriate homeomorphisms
    (projections, in this case) to map from hemispheres to the planes ``below'' them. Take for example the maps $\phi_1,\phi_2$ that map from the upper and lower hemispheres
    to the x-y plane respectively. Also, take $\phi_3$ to be the map for $\left\{ y>0 \right\}$ to the x-z plane. Then, on $U_1\cap U_1$ we have that
    $\phi_3\circ\phi_1^{-1}:(x,y)\to(x,z)=\sqrt{1-x^2-y^2}$. Clearly this is differentiable as long as $z\neq0$. Indeed, all the charts turn out to be smoothly compatible, and
    we have a manifold. This manifold is what we call a \textbf{level set} of $F(x,y,z)=x^2+y^2+z^2$.
\end{exmp}

In general, though, what about $\left\{ x | F(x)=c \right\}\subset \mathbb{R}^n$? Is it a manifold? (Indeed, it turns out that a set of equations $F_i(x_1\cdots x_m)=c_n$
has solutions that often form a manifold.)

Note: take $U\subset\mathbb{R}^n$ open. Take $F:U\to\mathbb{R}$ continuous for any $c\in\mathbb{R}$. Then, $F^{-1}(c)$ is a closed subset of $U$. In fact, $F^{-1}$ is always
Hausdorff and second countable as a subset of $\mathbb{R}^n$. When is $F^[-1](c)$ a differentiable manifold? Let us first ask: when can we solve one variable
in terms of the others? In other words, given $F(x,y,z)=c$, can we write, for example, $z=f(x,y)$?

\begin{exmp}
    Suppose $F$ is linear: $F(x,y,z)=ax+by+dz$. On $F(x,y,z)$, we can solve $x$ in terms of $y,z$ as long as $a=\frac{\partial F}{\partial x}\neq 0$.
\end{exmp}

\begin{thm}[Implicit function theorem]
    Suppose $U$ is open in $\mathbb{R}^n$ and $F:U\to\mathbb{R}$. Suppose $F(a)=c$, with $a\in U$, and $\frac{\partial F}{\partial x^n}(a)\neq 0$.
    Then, there exists a neighborhood $V$ of $a$ and a unique function $f(x_1\cdots x_{n-1})$ such that $\frac{\partial F}{\partial x_n}\neq0$ on $V$ and
    \begin{enumerate}
        \item $V\cap F^{-1}(c)=V\cap\left\{ (x_1\cdots x_{n-1}) | x_n=f(x_1\cdots x_{n} \right\}$
        \item $\frac{\partial f}{\partial x_i}=-\frac{\partial F}{\partial x_i}/\frac{\partial F}{\partial x_n}$ for $i=1\cdots n-1$
    \end{enumerate}
\end{thm}
\begin{proof}
    Go over this in your own time/past notes.
\end{proof}

\begin{thm}
    Suppose $F:\mathbb{R}^n\to\mathbb{R}$ is $C^\infty$. Take $c\in\mathbb{R}$ and $F^{-1}\neq \varnothing$ and suppose $\nabla F(x)\neq0$ for all $x\in F^{-1}(c)$. $c$ is called
    a \textbf{regular value} of $f$. Then, $F^{-1}(c)$ is an $(n-1)$ dimensional smooth manifold.
\end{thm}
\begin{proof}
    $F^{-1}(c)$ is Hausdorff and second countable. Now we wish to produce a differentiable structure. Consider $\tilde{U}_i=\left\{ \frac{\partial F}{\partial x_i}\neq0 \right\}\cap F^{-1}(c)$.
    $U_i$ is open in $F^{-1}(c)$ and $F^{-1}(c)\subset\cup_{i=1}^nU_i$ by the assumption that the gradient is nonzero on $F^{-1}(c)$. For each point $a\in U_i$, by the
    implicit function theorem, there exists a neighborhood $U_a$ of $a$ (may assume $U_a\subset U_i$ by taking an intersection) such that $U_a\cap F^{-1}(c)$ is the graph
    of a function $\left\{ x_i=f_i(x_1\cdots x_{i+1}\cdots x_n) \right\}$ and this $f_i$ is unique.

    We take the collection of all these $U_a$ $a\in F^{-1}(c)$ as coordinate charts. When two coordinate charts overlap, if they belong to the same $U_i$, by uniqueness
    of $f_i$ the transition map must be the identity map. But when two coordinate charts overlap but belong to different $U_i$, the transition maps consist 
    going from one projection to another (or unprojecting), which is simply a matter of dropping (or adding back) certain $x_i$. Since, by the implicit function theorem, 
    we may write $x_i$ smoothly in terms of the other coordinates, the transition maps are smooth.
\end{proof}

For $F(x,y,z)=x^2+y^2+z^2$, the gradient is $\nabla F=(2x, 2y, 2z)$. Thus, the sphere is a differentiable manifold as the choice of $c=1$ yields a gradient
that is not the zero vector.

Remark (invariance of dimension): If a smooth manifold is connected, then any coordinate chart is homeomorphic to an open subset of $\mathbb{R}^n$ for a fixed $n$, this $n$ is called
the dimension of the manifold.

\begin{thm}
    Take $U$ open in $\mathbb{R}^{n+m}$ and $F:U\to\mathbb{R}^m$ smooth. Let $c\in\mathbb{R}^m$ and $F^{-1}(c)\neq\varnothing$. Suppose that for all $a\in F^{-1}(c)$,
    $DF_a:\mathbb{R}^{n+m}\to\mathbb{R}^m$ is of rank $m$ (full rank). Then, $F^{-1}(c)$ is a $n$ dimensional smooth manifold and $c$ is called a \textbf{regular value}
    of $F$. Recall that $DF_a$ is simply the $m\times(n+m)$ matrix of partial derivatives of $F_i$. The corresponding implicity function theorem says that if
    the determinant of the $m\times m$ submatrix of $DF_a$ is not zero, then $x_1\cdots x_m$ can be locally solved in terms of $x_{m+1}\cdots x_{m+n}$.
\end{thm}

\begin{exmp}
Let's look at the simple case $m=3$, $n=2$:
\begin{align*}
    F_1(x_1,x_2,x_3)=a_{11}x_1+a_{12}x_2+a_{13}x_3\\
    F_2(x_1,x_2,x_3)=a_{21}x_1+a_{22}x_2+a_{23}x_3
\end{align*}
It's clear that if the $2\times2$ left submatrix has non-zero determinant, and we set $F_1=c_1,F_2=c_2$, we will be able to solve for $x_3$ in terms of $x_1,x_2$.
\end{exmp}

(January 31, 2012)
\begin{defn}
    Let $M$ be a smooth manifold. $f:M\to\mathbb{R}$ is a \textbf{smooth function} if for all $p\in M$ there exists a coordinate chart 
    $(U,\phi)$ containing $p$ such that $f\circ \phi^{-1}$ is $C^\infty$ on $\phi(U)$. Note that there is no ambiguity in terms of overlap of charts,
    as a smooth manifold's charts are smoothly compatible.
\end{defn}

\begin{defn}
    Let $M, N$ be smooth manifolds. A map $F:M\to N$ is a \textbf{smooth map} if for any point $p\in M$, there exists a coordinate chart $(U,\phi$ containing
    $p$ and a coordinate chart $(V,\psi)$ containing $F(p)$, such that $F(U)\subset V$ and $\psi\circ F\circ \phi^{-1}:\phi(U)\to\mathbb{R}^m$ is smooth.
    Check that this definition is well-defined.
\end{defn}

\begin{defn}
    $F:M\to N$ is a \textbf{diffeomorphism} if both $F$ and $F^{-1}$ are differentiable.
\end{defn}

\begin{exmp}
    There are two different differentiable structures on $\mathbb{R}$. One of these simply consists of the atlas $\left\{ (\mathbb{R},\id) \right\}$. However,
    we can also use $\left\{ (\mathbb{R},\psi(x)=x^3) \right\}$. These are different because the cubic root function, for example, is differentiable only under
    the second structure. Now consider $F$ from the first to the second structure, $F$ being the cubic root function. We claim that both $\psi\circ F\circ \id^{-1}$
    and $\id\circ F^{-1}\circ \psi^{-1}$ are identity functions. Thus $F$, by the definitions above, is a diffeomorphism between these two differentiable manifolds.
    These two differentiable structures are equivalent under diffeomorphism.
\end{exmp}

Consider the vector space (over $\mathbb{R}$) of smooth functions of $M$. What constitutes this vector space? Can we, for example, approximate a characteristic
function by smooth functions? Furthermore, suppose we are given $k$ points on $M$ - is there a smooth function that has a given value at each of these points?
Note that if we can find this, by taking $k$ to infinity, and setting all but one of the given values to 0, we will have shown that the vector space is infinite
dimensional.

\begin{defn}
    A function $f$ is \textbf{real analytic} at a point $p$ if $f$ is equal to its Taylor expansion at $p$ in a neighborhood of $p$.
\end{defn}

\begin{thm}
    If an analytic function is zero on an open set, it is zero everywhere as long as $M$ is connected.
\end{thm}
Note that this theorem shows that analytic functions could not be used to approximate a characteristic functions, as they have to be zero in some open set.

Thankfully, there are smooth functions that are not analytic. Take, for example,
\begin{align*}
    f(x)=\left\{
        \begin{array}{lr}
            e^{-\frac{1}{t}} & t>0\\
            0 & t\leq 0
        \end{array}
    \right.
\end{align*}
One can show that $f^{n}(0)=0$ for any positive integer $n$, which means that the Taylor series of $f$ at $t=0$ is identically zero but $f$ is ``not''
the zero function in any neighborhood of $t=0$. One can show (via, say, l'Hopital)
\begin{align*}
    f'(0)=\lim_{t\to 0}\frac{f(t)-f(0)}{t}=\lim_{t\to 0}\frac{e^{-1/t}}{t}=0
\end{align*}
and repeat this for any higher derivatives.

\begin{lem}[Existence of cut-off and bump functions]
\end{lem}

\begin{defn}
    The support of a function is defined to be
    \[\nm{supp}(g)=\overline{\left\{ x | g(x) \neq0 \right\}}\]
\end{defn}

\begin{thm}[Existence of partition of unity]
    Let $M$ be a smooth manifold and $\mathcal{O}$ is an open cover of $M$. Then there exist $C^\infty$ functions $\phi_\alpha:M\to[0,1]$ for
    $\alpha\in A$ (where $A$ is an index set) such that
    \begin{enumerate}
        \item The set of supports $\left\{ \nm{supp}\phi_\alpha \right\}_{\alpha\in A}$ is locally finite. In other words, for any point $p\in M$, there
            exists a neighborhood of $p$ that intersects a finite number of $\nm{supp}\phi_\alpha$.
        \item $\sum_\alpha\phi_\alpha(p)=1$ for all $p\in M$
        \item For all $\alpha\in A$, there exists $U\in\mathcal{O}$ such that $\nm{supp}\phi_\alpha\in U$.
    \end{enumerate}
\end{thm}
We will not prove this, as it is rather long and difficult. However, this theorem is important as it will allow us to move from talking about local
properties to global properties.

** FINISH : cutoff/bump functions **

\begin{exmp}
    \[\mathbb{R}=(-\infty,2.5)\cup(0.5,\infty)\]
    Take $\phi_1(t)=\frac{f(2-t)}{f(2-t)+f(t-1)}$ and $\phi_2(t)=\frac{f(t-1)}{f(2-t)+f(t-1)}$. These satisfy the above theorem, as there are a finite number of them,
    they clearly add up to 1, and each one's support is contained in a different set of the open cover.
\end{exmp}

\begin{thm}
Suppose $A$ is a closed subset and $U$ is an open subset of $M$ with $A\subset U$. Then there exists a smooth bump function $\psi:M\to\mathbb{R}$,
$0\leq\psi\leq1$ such that $\psi\equiv 1$ on $A$ and $\nm{supp}\psi\subset U$.
\end{thm}
\begin{proof}
    Let $U_0=I$, $U_1=M\setminus A$. Then, $\left\{ U_1,U_2 \right\}$ is an open cover, and there exist $\psi_\alpha$ partition of unity. $\nm{supp}\psi_\alpha\subset U$
    or $\nm{supp}\psi_\alpha\subset M\setminus A$ for each $\alpha$. Consider $\psi_1=\sum_{\nm{supp}\psi_\alpha\subset M\setminus A}\psi_\alpha$. Then, $\psi_1\equiv 0$
    on $A$. Claim: $\psi_0=1-\psi_1$ is the desired function, as $\psi_0\equiv0$ on $A$. On the other hand, $\psi_0=\sum_{\nm{supp}\psi_\alpha\subset U}\psi_\alpha$,
    meaning $\nm{supp}\psi_0\subset U$.
\end{proof}

\begin{thm}
    Suppose $A\subset U\subset M$ with $A$ closed and $U$ open and $f:A\to \mathbb{R}$ is a function that can be extended to a smooth function in a neighborhood of $A$.
    Then, there exists a smooth function $\tilde{f}:M\to\mathbb{R}$, such that $\tilde{f}|_A=f|_A$ and $\nm{supp}\tilde{f}\subset U$.
\end{thm}
The proof of this theorem is very similar to that of the above theorem, and will likely be in a future homework.


\section{Tangent spaces}

(February 5, 2013)

\begin{exmp}
    Let $F:\mathbb{R}^n\to \mathbb{R}$ be smooth and $c\in\mathbb{R}$ be a regular value of $f$. The tangent space of $f^{-1}(c)$ at $a\in f^{-1}(c)$
    is the $(n-1)$ dimensional affine space passing through $a$ and orthogonal to $\nabla f(a)$. The formula for the tangent space, in this case,
    is simply $\nabla f\cdot (x-a)$. For the case of $S^2$, for example, we have $(x_0,y_0,z_0)\cdot(x-x_0,y-y_0,z-z_0)=0$.
\end{exmp}

Note that here, the manifold and its tangent space are embedded in an ambient Euclidean space, but we want to be able to discuss tangent spaces ``in vacua,''
so to speak. First, recall that we can view directional derivatives as tangent vectors.

\begin{defn}
    Given $v\in\mathbb{R}^n$ and a smooth function defined near $a$, we define the \textbf{directional derivative} of $f$ at $a$ in the direction of $v$ to be:
    \begin{align*}
        D_v|_a f=\frac{d}{dt}|_{t=0}f(a+tv)=\sum_{i=1}v_i\frac{d}{dx^i}|_a f
    \end{align*}
    In other words, $D_v|_a$ assigns a number to each smooth function. In this sense, the directional derivative lives in the dual space, because when we
    consider them as operators, they form a vector space that is spanned by $\frac{d}{dx^i}|_a$. Note that for $v=0$, the operator will always return 0. 
\end{defn}

To define tangent spaces intrinsically, we will have to extract certain abstract properties of these directional derivatives.

\begin{defn}
    $X$ is a \textbf{derivation} at $a$ if $X$ is a linear map $C^\infty(\mathbb{R}^n)\to\mathbb{R}$ that satisfies:
    \begin{itemize}
        \item $X(cf)=cX(f)$
        \item $X(f+g)=X(f)+X(g)$
        \item $X(fg)=f(a)X(g)+X(f)g(a)$
    \end{itemize}
    for $f,g\in C^\infty(\mathbb{R})^n$. This definition can easily be extended to manifolds.
\end{defn}

\begin{rem}
    A directional derivative at $a$ is a derivation at $a$. Additionally, the set of derivations at $a$ forms a real vector space:
    \begin{itemize}
        \item $(cX)(f)=c(Xf)$
        \item $(X_1+X_2)(f)=X_1(f)+X_2(f)$
        \item the zero element is the zero map from $C^\infty(\mathbb{R}^n)\to\mathbb{R}$
    \end{itemize}
\end{rem}

It is not quite obvious that the vector space of derivations is indeed finite-dimensional, as the space of directional derivatives is.

\begin{thm}
    The vector space of directional derivatives at $a$ and the vector space of derivations at $a$ are isomorphic as real vector spaces.
\end{thm}

We will need two lemmas to prove this theorem.

\begin{rem}
    In fact, only the local behavior of a smooth function near $a$ ``matters.'' We should define a derivation as a linear map from the space of germs of
    functions at $a$.
\end{rem}

\begin{defn}
    A \textbf{germ} of a function at $a\in\mathbb{R}^n$ is a pair $(f,U)$ with $a\in U$, such that $f$ is differentiable in $U$. We define also an equivalence
    relation $(f,U)\sim(g,V)$ if $f\equiv g$ on $U\cap V$.
\end{defn}

\begin{lem}
    Let $c$ denote a constant function with value $c$. Then we have $X(c)=0$ for any derivation.
\end{lem}
\begin{proof}
    Using linearity and the third property,
    \begin{align*}
        X(c)=cX(1) = cX(1\cdot 1)=c\left( 1X(1)+1X(1)=2cX(1) \right)
    \end{align*}
    This property is true only for 0, and we are done.
\end{proof}

\begin{lem}
    Suppose $f$ is differentiable in a neighborhood $U$ of $a$, then there exists an $\varepsilon>0$ such that $B_a(\varepsilon)\subset U$
    and differentiable functions $g_i$ in $B_a(\varepsilon)$ such that
    \begin{align*}
        f(x)=f(a)+\sum_{i=1}^ng_i(x)(x^i-a^i)
    \end{align*}
    in $B_a(\varepsilon)$ and
    \begin{align*}
        g_i(a)=\frac{\partial}{\partial x^i}|_a f
    \end{align*}
\end{lem}

\begin{rem}
    Note that in the one-dimensional case, $f(x)=f(a)+(x-a)g(x)$ and $g(a)=f'(a)$,
    \begin{align*}
        g(x) = 
        \left\{
            \begin{array}{lr}
                \frac{f(x)-f(a)}{x-a} & : g\neq a\\
                f'(a) & : x=a
            \end{array}
        \right.
    \end{align*}
\end{rem}

Now we prove the theorem.

\begin{proof}
    Any directional derivative is a derivation, so if suffices to prove the inclusion map from the space of derivatives to the space of derivations is an isomorphism.
    This map is linear (exercise), so now we prove that the map is injective and surjective.
    
    If $\sum_{i=1}^n v_i\frac{\partial}{\partial x^i}|_a f=0$ for any $f\in C^\infty(\mathbb{R}^n)$, we want $v_i=0$ to show that the nullspace is zero.
    Note that here we can use the fact that $\frac{\partial x^j}{\partial x^i}=\delta^{ij}$: take $f=x^j$, which will give us precisely $v_j=0$ for each $j$.
    Thus, this map is injective.

    If a derivation $X$ corresponds to a directional derivative $\sum_{i=1}^nv_i\frac{\partial}{\partial x^i}|_a$, what are the $v_i$'s? In this case, again in analogy
    to typical vector spaces, we want $X(x^j)=\sum_{i=1}^nv_i\frac{\partial}{\partial x^i}|_ax^j=v_j$. Consequently, take $\sum_{i=1}^n X(x^i)\frac{\partial}{\partial x^i}|_a$
    and we claim $X=\sum_{i=1}^n X(x^i)\frac{\partial}{\partial x^i}|_a$ as derivations, or $X(f)=\sum_{i=1}^n X(x^i)\frac{\partial}{\partial x^i}|_af$ for any
    $f\in C^\infty(\mathbb{R}^n)$. We apply the second of the above lemmas and the product rule, and write $f$ in the corresponding form
    \begin{align*}
        X(f)&=X\left(f(a)+\sum_{i=1}^n g_i(x)(x^i-a^i)\right)=\sum_{i=1}^n X\left(g_i(x)(x^i-a^i)\right)\\
        &=\sum_{i=1}^n g_i(a)X(x^i-a^i) =\sum_{i=1}^nX(x^i)\frac{\partial}{\partial x^i}|_a f
    \end{align*}
\end{proof}

\begin{defn}
    Let $M$ be a smooth manifold and $p\in M$. The \textbf{tangent space} of $M$ at $p$, $T_pM$, is the vector space of all derivations at $p$.
    Recall that $X:C^\infty(M)\to\mathbb{R}$ is linear and $X(fg)=f(p)X(g)+g(p)X(f)$.
\end{defn}

\begin{rem}
    Suppose $F:M\to N$ is differentiable and $f: N\to \mathbb{R}$ is a differentiable function. Then we can \textbf{pullback} $f$ by $F$:
    \begin{align*}
        F^*(f)=f\circ F
    \end{align*}
    Suppose $X\in T_pM$ is a derivation. Then we can \textbf{pushforward} $X$ by $F$. $F_*(X)$ is a derivation at $F(p)$ so $F_*(X)\in T_{F(p)}N$.
    Then,
    \begin{align*}
        F_*(X)(f)=X(F^*f)=X(f\circ F)
    \end{align*}
    In other words, $F_*$ takes the derivation on $T_pM$ to a derivation on $T_{F(p)}N$ that can act on a function on $N$.
\end{rem}

(February 7, 2013)

Recall for $\mathbb{R}^n$, $T_p\mathbb{R}^n$ is the real space spanned by $\frac{\partial}{\partial x^i}|_p$. For a coordinate chart $(U,\phi)$ on $M$, we can
identify $U$ with $\phi(U)$ and take $\frac{\partial}{\partial x^i}|_{\phi(p)}$ as a basis for $T_pM$. Check the textbook for how this is done precisely via
pushforwards (partial derivatives are pushed forward from the tangent space of the Euclidean space to derivations on the tangent space of the manifold).

What if two coordinate charts $(U,\phi)$ and $(V,\psi)$ overlap?
\begin{align*}
    \tilde{x}^j=(\psi\circ\phi^{-1})^j(x^1,\cdots,x^n)
\end{align*}
Take, for example a point in $\mathbb{R}^2$ -- one can choose polar coordinates and cartesian coordinates. For a given point, we can simply relate these coordinates
by the usual $x=r\cos\theta$ and $y=r\sin\theta$. The partial derivatives of the coordinates can be written via the chain easily
\begin{align*}
    \frac{\partial}{\partial x}=\frac{\partial r}{\partial x}\frac{\partial}{\partial r} + \frac{\partial \theta}{\partial x}\frac{\partial}{\partial \theta}
\end{align*}
and similarly for $\frac{\partial}{\partial y}$. In general, it should be clear that
\begin{align*}
    \frac{\partial}{\partial x^i}|_p=\frac{\partial (\psi\circ\phi^{-1})^j}{\partial x^i}\frac{\partial}{\partial \tilde{x}^j}|_p,
\end{align*}
where we have used the Einstein summation convention.

Let us now consider in more detail pushforwards of derivations. Take $F:\mathbb{R}^n\to\mathbb{R}^m$ differentiable. If $g:\mathbb{R}^m\to\mathbb{R}$
and $X$ is a derivation at $p\in\mathbb{R}^n$, we consider the pushforward $F_*X$, which is a derivation at $F(p)\in \mathbb{R}^m$ that operates of $g$.
In terms of local coordinates, what is $F_*(\frac{\partial}{\partial x^i}|_p)$? If $x^\alpha$ and $y^\alpha$ are our coordinates on $\mathbb{R}^n$ and $\mathbb{R}^m$
respectively, $y^\alpha=F^\alpha(x^1\cdots x^n)$
\begin{align*}
    F_*(\frac{\partial}{\partial x^i}|_p)(g)&=\frac{\partial}{\partial x^i}|_pg(F)=\frac{\partial}{\partial x^i}|_pg\left(F^1(x)\cdots F^m(x)\right)\\
    &=\frac{\partial g}{\partial y^\alpha}\left( F(p) \right)\frac{\partial F^\alpha}{\partial x^i}|p
\end{align*}
and so we write
\begin{align*}
    F_*(\frac{\partial}{\partial x^i}|_p)=\frac{\partial F^\alpha}{\partial x^i}|_p\frac{\partial }{\partial y^\alpha}|_{F(p)}
\end{align*}
Now we see more concretely, with the coordinates, how the pushforward takes derivations in the tangent space of one manifold the the tangent space of another.

\section{Tangent bundles}

So now we have at each point, a vector space of the same dimension as the base manifold. Now consider putting all of these tangent spaces together.

\begin{defn}
    The \textbf{tangent bundle} $TM$ of a manifold $M$ is, as a set, the disjoint union of all the tangent spaces $T_pM$ of $M$:
    \begin{align*}
        TM=\coprod_{p\in M}T_pM
    \end{align*}
\end{defn}

Naturally, as $TM$ is a set defined based off of a manifold, the question arises: what is the topology of $TM$?

Consider $T\mathbb{R}$; with each point on the line, we associate another,
tangent, line. One can do this in many ways. On $\mathbb{R}^2$ one can construct a topology from the following metric:
\begin{align*}
    d\left( (x_0,y_0),(x_1,y_1) \right)=|y_0|+|x_0-x_1|+|y_1|
\end{align*}
In this topology, distances are defined by projecting down to the x-axis, moving along it, and then moving back up. This is analogous to how one might
define a topology on lines intersecting $\mathbb{R}$, since the tangent spaces can't naturally ``talk'' to each other: one projects down to the base space,
moves along, and then goes to the second tangent space. Incidentally, it turns out that $T\mathbb{R}=\mathbb{R}^2$ quite naturally.

\begin{exmp}
    Take $S^2=\left\{ (x,y,z) | x^2+y^2+z^2=1 \right\}$. The tangent space at a point consists of all vectors orthogonal to the sphere at that point.
    Therefore,
    \begin{align*}
        TS^2=\left\{ (x,y,z,u,v,w)\subset \mathbb{R}^6|x^2+y^2+z^2=1 \nm{and} xu+yv+zw=0 \right\},
    \end{align*}
    where the second equation enforces the orthogonality. One can check that this is a differentiable manifold of dimension 4 by viewing it as a level set in
    $\mathbb{R}^6$ with two constraints (at a regular value).

    More generally, if $c$ is a regular value of $f$, $f^{-1}(c)\subset\mathbb{R}^n$,
    \begin{align*}
        T(f^{-1}(c))=\left\{ (a,x)|a\in f^{-1}(c) \nm{and} \nabla f(a)\cdot x=0 \right\}\subset \mathbb{R}^{2n},
    \end{align*}
    which can be shown to be a differentiable manifold.
\end{exmp}

Note, however, that this approach has a disadvantage: we required the sphere to be embedded in Euclidean space, which is not necessarily always the case.
We must find a more intrinsic definition of the tangent bundle, which is independent of the embedding.

First note that there is always a canonical projection map $\pi:TM\to M$. We wish to define a differentiable structure on $TM$ such that the projection is
differentiable (topologically, one could simply make this map continuous and $TM$ would have a pullback topology).

\begin{thm}
    Let $M$ be an n-dimensional differentiable manifold. There exists a natural differentiable structure on $TM$ 
    such that $TM$ is a $(2n)$-dimensional smooth manifold and that the projection map $\pi:TM\to M$ is differentiable.
\end{thm}
\begin{proof}
    It is left as an exercise to show that this structure will be Hausdorff and second-countable. Suppose $(U,\phi)$ is a coordinate chart on $M$
    and $x^i$, $i=1\cdots n$ are coordinates on $U$ (more accurately, on $\phi(U)$). Take $\left( \pi^{-1}(U),\tilde{\phi} \right)$ as a coordinate chart
    for $TM$. Any element in $\pi^{-1}(U)$ is a derivation at $p\in U$. But any derivation at $p$ is of the form $v^i\frac{\partial}{\partial x^i}|_p$,
    and so
    \begin{align*}
        v^i\frac{\partial}{\partial x^i}|_p\xrightarrow{\tilde{\phi}}\left( x^1(p)\cdots x^n(p),v^1 \cdots v^n \right)\in \phi(U)\times\mathbb{R}^n.
    \end{align*}
    In other words, we give 2 coordinates: the first is of the base manifold and the second set are coordinates on the tangent space, so
    $\tilde{\phi}:\pi^{-1}(U)\to\phi(U)\times \mathbb{R}^n\subset\mathbb{R}^{2n}$. We must now make sure that the transition maps 
    are smoothly compatible, i.e. that $\tilde{\psi}\circ\tilde{\phi}^{-1}$ is a smooth map. Suppose we have $\tilde{x}^j$ coordinates on $\psi(V)$.
    Then,
    \begin{align*}
        \tilde{\phi}^{-1}\left( x^1(p)\cdots x^n(p),v^1\cdots v^n \right)&=v^i\frac{\partial}{\partial x^i}|_p
        =v^i\frac{\partial \tilde{x}^j}{\partial x^i}\frac{\partial}{\partial \tilde{x}^j}|_p,
    \end{align*}
    so we have two different expressions for this derivation, depending on which chart we are in. Now let us compute:
    \begin{align*}
        \psi\circ\tilde{\phi}^{-1}\left( x^1\cdots x^n,v^1\cdots v^n \right)=\tilde{\psi}\left(v^i\frac{\partial \tilde{x}^j}{\partial x^i}\frac{\partial}{\partial \tilde{x}^j}|_p  \right)\\
        =\left( \tilde{x}^1\cdots \tilde{x}^n,v^i\frac{\partial \tilde{x}^1}{\partial x^i}\cdots v^i\frac{\partial \tilde{x}^n}{\partial x^i} \right)
    \end{align*}
    Now it suffices to show that this is a $C^\infty$ map from an open set of $\mathbb{R}^{2n}$ to $\mathbb{R}^{2n}$. Note carefully that the $\tilde{x}$ are functions of $x$
    coordinates; but $\tilde{x}$ is smooth (because it originates from the transition map of the base manifold and because it is independent of $v^i$). The second set
    of coordinates is smooth because it's linear in the $v^i$ and because, again, $\tilde{x}$ is smooth.
\end{proof}

\begin{defn}
    A $C^\infty$ \textbf{vector field} $Y$ on $M$ is a $C^\infty$ map $Y:M\to TM$ such that $\pi\circ Y=\id_M$ or $Y(p)\in T_pM$
\end{defn}

In other words, we assign a derivation to each point $p$ on the base manifold with the stipulation that the assigned derivation be in the
tangent space ``over'' $p$. That means, that we can write, in the local coordinate chart:
\begin{align*}
    Y=Y^i(p)\frac{\partial}{\partial x^i}\bigg|_p
\end{align*}
where $Y^i(p)$ are $C^\infty$ functions on the coordinate chart. We have assigned a tuple of smooth functions at each point on the manifold - this
should remind you of vector fields that we are used to working with on Euclidean spaces. Of course, if $p$ is in another chart as well, it can be
written as 
\begin{align*}
    Y=\tilde{Y}^i(p)\frac{\partial}{\partial \tilde{x}^i}\bigg|_p.
\end{align*}
Clearly we must have
\begin{align*}
    Y^i(p)\frac{\partial}{\partial x^i}\bigg|_p&=Y^i(p)\frac{\partial \tilde{x}^j}{\partial x^i}\frac{\partial}{\partial \tilde{x}^j}\bigg|_p\\
    \tilde{Y}^j(p)&=Y^i(p)\frac{\partial \tilde{x}^j}{\partial x^i}(p)
\end{align*}

\begin{exmp}
    On $\mathbb{R}^2\setminus(0,0)$ we can take
    \begin{align*}
        Y_1&=x\frac{\partial}{\partial x}+y\frac{\partial}{\partial y}\\
        Y_2&=x\frac{\partial}{\partial x}-y\frac{\partial}{\partial y}\\
        \tilde{Y}_1&=\frac{1}{\sqrt{x^2+y^2}}\left(x\frac{\partial}{\partial x}+y\frac{\partial}{\partial y}\right)\\
        \tilde{Y}_2&=\frac{1}{\sqrt{x^2+y^2}}\left(x\frac{\partial}{\partial x}-y\frac{\partial}{\partial y}\right).
    \end{align*}
    Note that the second two are unit vector fields and thus cannot be extended continuously to the point 0, as their length remains constant.
    The first two, on the other hand shrink as we approach 0, and thus \textit{can} be extended to become vector fields on $\mathbb{R}^2$.

    Let us now try to push this vector field on $\mathbb{R}^2$ to a vector field on $S^2$ with the north pole delted using the stereographic projection.
    Taking the usual stereographic chart $\phi$, we can use $\phi^{-1}$ to push forward $Y_1$ and $Y_2$ so they become vector fields
    on $S^2$ with the north pole deleted. The question now arises: can we extend this vector field to the north pole? Well, note that
    $\left( \phi^{-1} \right)_* Y_1$ (push forwards of rays going out to infinity) is tangent to a longitude line of the sphere.
    What we must examine, then, is the length of the vector field along this line in the vicinity of the north pole -- in fact, it could be infinite, finite, or zero!
    But what about $\left( \phi^{-1} \right)_* Y_2$? This is the push forward of circles about the origin. This will yield tangents to
    a latitude line of the sphere, and again the question is whether or not the field goes to zero as we approach the north pole.

    This question of whether the vector field can be globally defined on $S^2$ is left as a future homework problem.
\end{exmp}

\begin{exmp}
    Consider $T=\mathbb{R}^2\setminus{\sim}$ with
    \begin{align*}
        (x,y)&\sim(x+1,y)\\
        (x,y)&\sim(x,y+1).
    \end{align*}
    The first relation quotients out points into vertical lines, and the second relation quotients out points into horizontal lines, and thus
    it can be seen that the only relevant space is a square of side length 1 with the bottom-left corner at the origin. Note, however, that one
    must be careful to associate the opposite edges with each other -- in fact, what we get is called a flat torus.

    We can show that this is a differentiable manifold. Indeed, another way to define this is to consider
    \begin{align*}
        T=\left\{ (x,y,z,w)|x^2+y^2=\frac{1}{2}, z^2+w^2=\frac{1}{2} \right\}\subset \mathbb{R}^4.
    \end{align*}
    But notice that $x,y$ are not globally defined functions on $T$. $\frac{\partial}{\partial x}$, on the other hand, is a well-defined global vector field,
    as the position of the vector does not matter, so a horizontal vector on the left edge of the square can be unambiguously identified with itself on the
    right edge of the square. The same holds for $\frac{\partial}{\partial y}$. These derivative vector fields are non-zero everywhere on $T$, unlike what
    we saw at the poles of $S^2$.
\end{exmp}

\begin{defn}
    A \textbf{global derivation} on $M$ is a linear map over $\mathbb{R}$, $Y:C^\infty(M)\to C^\infty(M)$ such that $Y(fg)(p)=f(p)(Yg)(p)+g(p)(Yf)(p)$. 
\end{defn}

\begin{thm}
    Every global derviation comes from a global smooth vector field.
\end{thm}

\begin{defn}
    Let $\mathcal{T}(M)$ be the set of all smooth vector fields on $M$. Again, this is a real vector space. We can also multiply a smooth vector
    field by a smooth function, so in fact, $C^\infty(M)$ has a ring structure. Thus, $\mathcal{T}(M)$ can be considered as a module over $C^\infty(M)$.
    In fact, $\mathcal{T}(M)$ can be identified with the vector space of global derivations on $M$.
\end{defn}

Suppose $X$ and $Y$ are smooth vector fields, and thus global derivations, $f\to Xf$. The question is: can we take a second derivative?
Is $YX$ a global derivation? 
\begin{align*}
    YX(fg)&=Y(gXf+fXg)\\
    &=(Yg)\cdot Xf+g\cdot YXf+(Yf)\cdot Xg+f\cdot YXg
\end{align*}
The second and the fourth terms are the requirements to be a global derivation, and thus there are two extra terms and $YX$ is not necessarily
a global derivation. Note that the extra terms are symmetric with respect to $X$ and $Y$, which we can use to obtain a global derivation. Consider
\begin{align*}
    (XY-YX)(fg)=g\cdot(XY-YX)f+f\cdot (XY-YX)g,
\end{align*}
which \textit{is} a global derivation.
\begin{defn}
    The \textbf{Lie bracket}, or bracket, is a binary operation on $\mathcal{T}(M)$ that satisfies:
    \begin{itemize}
        \item linearity: $[aX+bY,Z]=a[X,Z]+b[Y,Z]$
        \item skew-symmetry: $[X,Y]=-[Y,X]$
        \item Jacobi identity: $[X,[Y,Z]]+[Y,[Z,X]]+[Z,[X,Y]]$
    \end{itemize}
\end{defn}

Consequently, if $X,Y\in\mathcal{T}(M)$, $XY$ is not necessarily in $\mathcal{T}(M)$, but $[X,Y]$ is. This makes $\mathcal{T}(M)$ a $\textbf{Lie algebra}$.

Note that in local coordinates, if $X=v^i\frac{\partial}{\partial x^i}$ and $Y=w^j\frac{\partial}{\partial x^j}$,
\begin{align*}
    [X,Y]=\left( v^i\frac{\partial w^j}{\partial x^i}-w^i\frac{\partial v^j}{\partial x^i}\right)\frac{\partial}{\partial x^j}.
\end{align*}


\end{document}
